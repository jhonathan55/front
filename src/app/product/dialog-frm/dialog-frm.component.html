<h2 mat-dialog-title>Hi</h2>
<mat-dialog-content>
  <p>Please fill out your details:</p>
  <form [formGroup]="form" class="form">
    <mat-form-field>
      <mat-label>First Name</mat-label>
      <input
        matInput
        formControlName="firstName"
        placeholder="Enter your first name"
        [class]="isValidField('firstName')"
      />
      @if (form.get('firstName')?.hasError('required') &&
      form.get('firstName')?.touched) {
      <mat-error>First Name is required</mat-error>
      }
    </mat-form-field>

    <mat-form-field>
      <mat-label>Last Name</mat-label>
      <input
        matInput
        formControlName="lastName"
        placeholder="Enter your last name"
      />
      @if (form.get('lastName')?.hasError('required') &&
      form.get('lastName')?.touched) {
      <mat-error>Last Name is required</mat-error>
      }
    </mat-form-field>
    <mat-form-field>
      <mat-label>Email</mat-label>
      <input
        matInput
        formControlName="email"
        placeholder="Enter your email"
      />
      @if (form.get('email')?.hasError('required') &&
      form.get('email')?.touched) {
      <mat-error>email is required</mat-error>
      }
    </mat-form-field>
    <mat-form-field>
      <mat-label>Age</mat-label>
      <input
        matInput
        formControlName="age"
        placeholder="Enter your age"
        type="number"
      />
      @if (form.get('age')?.hasError('required') && form.get('age')?.touched) {
      <mat-error>Age is required</mat-error>
      } @if (form.get('age')?.hasError('min') && form.get('age')?.touched) {
      <mat-error>Age must be at least 1</mat-error>
      }
    </mat-form-field>

    <mat-form-field>
      <mat-label>Password</mat-label>
      <input
        matInput
        formControlName="password"
        placeholder="Enter your password"
        type="password"
      />
      @if (form.get('password')?.hasError('minlength') &&
      form.get('password')?.touched) {
      <mat-error>Password must be at least 6 characters</mat-error>
      }
    </mat-form-field>
  </form>
</mat-dialog-content>

<mat-dialog-actions>
  <button mat-button (click)="onNoClick()">No Thanks</button>
  <button
    mat-button
    [disabled]="form.invalid"
    (click)="onSubmit()"
    cdkFocusInitial
  >
    Ok
  </button>
</mat-dialog-actions>
